<!doctype html>

<!-- see UNLICENSE file in the website's source code for copyright and license details. -->

<html lang="en-US">

<head>
	<meta charset="utf-8">
	<meta name="darkreader-lock">
	<title>The Banguage Dictionary Nth Edition</title>
	<style>
		* {
			font-family: "JetBrains Mono", monospace;
			font-optical-sizing: auto;
			font-weight: 400;
			font-style: normal;
			font-variant-ligatures: none;
			border-radius: 1rem;
		}

		html {
			background-color: #11111b;
			color: #cdd6f4;
		}

		.search {
			display: block;
			margin-left: auto;
			margin-right: auto;
			width: 90%;
			background-color: #11111b;
			border: 4px solid #cdd6f4;

			text-align: center;
			color: #cdd6f4;
		}

		.lvdst {
			width: 20%;
			background-color: #11111b;
			border: 2px solid #cdd6f4;

			color: #cdd6f4;
		}

		.inline {
			display: inline;
		}

		ol {
			display: inline;
		}

		li {
			margin-left: 2em;
			padding-left: 0.5em;
		}

		i {
			font-style: italic;
		}

		.subtext {
			color: #a6adc8;
			opacity: 0.8;
		}

		.greyout {
			text-decoration: line-through;
			color: #a6adc8;
			opacity: 0.6;
		}

		.container-parent {
			display: flex;
		}

		.container {
			background-color: #181825;
			border: 4px solid #cdd6f4;
			margin-top: 2vh;
			padding-top: 1vh;
			padding-left: 2vh;
			padding-right: 2vh;
			min-height: 94vh;
			height: 94vh;
			vertical-align: top;
		}

		.container-left {
			flex: 0.2;
			margin-left: 2vh;
		}

		/* jank to make the scrollbar background not clip the border */
		.container-right-wrapper {
			flex: 0.8;
			padding-left: 3vh;
			margin-left: 2vh;
			margin-right: 2vh;
			padding-right: 0;

			overflow: hidden;
			display: flex;
			flex-direction: column;
		}

		.container-right {
			overflow-y: scroll;
			scrollbar-color: #cdd6f4 #181825;
			flex-grow: 1;

			border-radius: 0;
		}

		/* todo: add hover effects for both entry and def */

		.entry {
			padding: 1vh;
		}

		.entry:hover {
			/* todo: replace with actual colors from the palette when i have
			 * internet */
			background-color: #1e1e2e;
		}

		.ety {
			border-radius: 0.5rem;
		}

		.def {
			border-radius: 0.5rem;
		}

		.def:hover {
			background-color: #313244;
		}

		.collapsed {
			display: none;
		}
	</style>
</head>

<body>
	<div class="container-parent">
		<div class="container container-left">
			<input type="text" class="search" id="search" name="search" placeholder="words/defs or #tags..."
				autocomplete="off">

			<br>
			<p class="inline">search for:</p><br>
			<input type="radio" id="searchmode_words" name="searchmode" checked onclick="setsearchmode('words')"
				autocomplete="off">
			<label for="searchmode_words">words</label><br>
			<input type="radio" id="searchmode_defs" name="searchmode" onclick="setsearchmode('defs')"
				autocomplete="off">
			<label for="searchmode_defs">word definitions</label><br>

			<br>
			<p class="inline">word/definition matching mode:</p><br>
			<input type="radio" id="wmatchmode_plain" name="wmatchmode" checked onclick="setwmmode('plain')"
				autocomplete="off">
			<label for="matchmode_plain">plain</label><br>
			<input type="radio" id="wmatchmode_exact" name="wmatchmode" onclick="setwmmode('exact')" autocomplete="off">
			<label for="matchmode_exact">exact</label><br>
			<input type="radio" id="wmatchmode_regex" name="wmatchmode" onclick="setwmmode('regex')" autocomplete="off">
			<label for="matchmode_regex">regex</label><br>
			<input type="radio" id="wmatchmode_levenshtein" name="wmatchmode" onclick="setwmmode('levenshtein')"
				autocomplete="off">
			<label for="matchmode_levenshtein">levenshtein distance &lt;=</label>
			<input type="number" class="lvdst" id="lvdst" name="lvdst" placeholder="1" autocomplete="off">
		</div>
		<div class="container container-right-wrapper">
			<div class="container-right" id="main">
				<p>if you're reading this, something went wrong (or maybe the page just hasn't loaded?)</p>
			</div>
		</div>
	</div>
	<script>
			// START OF AUTO-GENERATED CODE REGION
const wordlist = ["aff","aippe","ajı","ajpe","ajpı","akka","akopa","akosa","amu","ani","anipa","anpa","apai","asai","eka","eni","gattsa","goaorks","haj","ħaru","himej","i","ica","ija","iku","ili","ime","iri","irojı","isa","issa","kalosı","kami","karai","katsa","kigi","kiki","kume","liu","maja","majia","miru","mınā","mjaw","moe","mono","mrojie","mrojin","munāi","noj","ojil","ome","patsa","puli","sa","sila","sinō","soraji","sosoe","tā","tapa","trune","tsa","uli","vi","vime","vir","wali","wamu","wappe","wzow"];
const etylist=[["Etymology 1: onomatopoeia of a dog's bark"],["Etymology 1: Type A // derived from root √-a-p- (life; timekeeping)"],["Etymology 1: from earlier <i>ajpı</i>; loss of /p/ due to irregular sound change"],["Etymology 1: Type A // derived from root √-a-p- (life; timekeeping)"],["Etymology 1: Type A // derived from root √-a-p- (life; timekeeping)"],["Etymology 1: shortening of <i>akosa</i>."],["Etymology 1: Type A // derived from root √-a-p- (life; timekeeping)"],["Etymology 1: shortening of <i>akopa sa</i>. <i>akosa</i> supposedly being derived from √-a-s- is a folk/false etymology."],["Etymology 1: Type A // derived from root √-mu- (darkness; night; silence)"],["Etymology 1: Type A // derived from root √-a-i (lifetime; age; status; mortality; wisdom)"],["Etymology 1: Type A // derived from root √-a-p- (life; timekeeping)"],["Etymology 1: Type A // derived from root √-a-p- (life; timekeeping)"],["Etymology 1: Type A // derived from root √-a-p- (life; timekeeping)"],["Etymology 1: Type A // derived from root √-a-i (lifetime; age; status; mortality; wisdom)"],["Etymology 1: Type B"],["Etymology 1: Type B"],["Etymology 1: derived from emphatic pronunciation of <i>katsa</i>"],["Etymology 1: <br><img src=\"media/goaorks.png\" width=\"50%\">"],["Etymology note: Type C // loaned from English \"hi\""],["Etymology 1: Type B // aggressive-sounding sound combo"],["Etymology 1: Type A // derived from root √-m-e- (motion; relocation; impermamence; entropy)"],["Etymology 1: clipping of <i>ime</i>."],["Etymology 1: Type B // most likely related to <i>issa</i> as in \"blood\""],["Etymology 1: Type B"],["Etymology 1: Type B"],["Etymology 1: Type A // derived from root √-il- (light; growth; activity; denseness)"],["Etymology 1: from earlier <i>ime</i> (\"the next; the following\")","Etymology 2: Type A // derived from root √-m-e- (motion; relocation; impermamence; entropy)"],["Etymology 1: from earlier <i>ili</i>; irregular /l/ > /r/ possibly due to sound symbolism"],["Etymology 1: Type A // derived from root √-r-j- (complexity; detail)"],["Etymology 1: Type A // not entirely certain; may be derived from root √-sa- (existence; being)","Etymology 2: Type C // (i don't recall that discord message well enough to quote it here)"],["Etymology 1: from earlier <i>issa</i> (\"blood\")","Etymology 2: Type A // derived from root √-sa- (existence; being)"],["Etymology 1: Type A // derived from root √-a-s- (group; interaction; companionship; community/society)"],["Etymology 1: Type A // derived from root √-a-i (lifetime; age; status; mortality; wisdom)"],["Etymology 1: Type A // derived from root √-a-i (lifetime; age; status; mortality; wisdom)"],["Etymology 1: Type A // derived from root √-a-s- (group; interaction; companionship; community/society)"],["Etymology 1: Type B"],["Etymology 1: Type B"],["Etymology 1: Type A // derived from root √-m-e- (motion; relocation; impermamence; entropy)"],["Etymology 1: Type A // derived from root √-i-u (specific direction; category; label; classification)"],["Etymology 1: from earlier <i>majia</i>; /ji/ simplified to /j/; semantic generalization from \"stranger; typically one neutrally thought of\" to \"person\""],["Etymology 1: Type A // derived from root √-a-i (lifetime; age; status; mortality; wisdom)"],["Etymology 1: Type A // derived from root √-i-u (specific direction; category; label; classification)"],["Etymology 1: from earlier <i>munāi</i>; /munaːi/ > /munaː/ syncope --> /munaː/ > /mɤnaː/ vowel reduction"],["Etymology 1: onomatopoeia of a cat's meow"],["Etymology 1: Type A // derived from root √-oe (world; global/universal matter)"],["Etymology 1: Type A // derived from root √-no (ends; closure point; finality; bound)"],["Etymology 1: Type C // typo of <i>mrojin</i>"],["Etymology 1: Type A // derived from root √-r-j- (complexity; detail)"],["Etymology 1: Type A // derived from root √-a-i (lifetime; age; status; mortality; wisdom)"],["Etymology 1: Type B // likely sound symbolism"],["Etymology 1: Type A // derived from root √-il- (light; growth; activity; denseness)"],["Etymology 1: Type A // derived from root √-m-e- (motion; relocation; impermamence; entropy)"],["Etymology 1: Type A // derived from root √-sa- (existence; being)"],["Etymology 1: Type C // Neon White card Purify's bomb kind of looks like the Watcher ballToy --> loaned as <i>puri</i> --> /r/ > /l/ to match <i>uli</i>"],["Etymology 1: Type A // derived from root √-sa- (existence; being)"],["Etymology 1: Type A // derived from root √-il- (light; growth; activity; denseness)"],["Etymology 1: Type B"],["Etymology 1: Type A // derived from root √-r-j- (complexity; detail)"],["Etymology 1: early RPGs with online multiplayer capabilities called lobbies \"worlds\", using the archaic term to invoke a feeling of importance / mysticality / \"RPG-ness\". Now considered cliché, but the term has stuck around and is now common for a multiplayer video game lobby.","Etymology 2: Type A // derived from root √-oe (the world; global/universal matter)"],["Etymology 1: onomatopoeic"],["Etymology 1: Type A // derived from root √-a-p- (life; timekeeping)"],["Etymology 1: Type C // typo, then a \"that sounds like X\""],["Etymology 1: derived from <i>ko-</i> (perfective prefix) + <i>sa</i>; /kosa/ > /ksa/ syncope --> fronting of word-initial /ks/ cluster, /ksa/ > /tsa/"],["Etymology 1: Type B"],["Etymology 1: shortening of earlier <i>vime</i> meaning \"stuff\", nondescript items."],["Etymology 1: origins unclear but possibly from \"(exhale) <i>ime...</i>\" as a filler word --> spelled as <i>hime</i> --> /hime/ > /vime/ fortition."],["Etymology 1: Type B // likely sound symbolism"],["Etymology 1: Type A // derived from root √-a-i (lifetime; age; status; mortality; wisdom)"],["Etymology 1: Type A // derived from root √-mu- (darkness; night; silence)"],["Etymology 1: Type A // derived from root √-a-p- (life; timekeeping)"],["Etymology 1: Type C // keysmash, then a discord emoji"]];
const desclist = [[["int","noun","verb intrans"]],[["noun"]],[["noun u-uncnt","adj"]],[["noun","noun","noun, colloquial, rude"]],[["noun u-uncnt, archaic","adj archaic"]],[["int, greeting"]],[["noun uncnt","adj"]],[["int, greeting"]],[["noun","noun","verb"]],[["noun"]],[["noun"]],[["noun"]],[["noun"]],[["verb"]],[["verb","verb"]],[["verb","verb, colloquial","verb, slang"]],[["verb","verb"]],[["noun"]],[["int, greeting"]],[["verb, colloquial"]],[["verb vom intrans"]],[["int informal"]],[["noun uncnt"]],[["verb vom intrans","verb vom","verb vom intrans"]],[["noun uncnt","noun","adj"]],[["noun archaic","noun archaic"]],[["conj"],["noun archaic"]],[["noun","noun"]],[["noun uncnt"]],[["verb, archaic"],["verb, obsolete"]],[["adj","noun uncnt"],["noun uncnt, archaic"]],[["verb","noun","noun"]],[["noun"]],[["verb intrans"]],[["verb","verb"]],[["noun"]],[["noun"]],[["noun u-uncnt","noun u-uncnt","noun","noun, colloquial"]],[["adj"]],[["noun","noun"]],[["noun archaic"]],[["adj"]],[["noun"]],[["int","noun","verb intrans"]],[["noun","noun"]],[["noun","verb intrans"]],[["int, sometimes childish","int"]],[["noun","adj","noun, colloquial","noun/adj, slang"]],[["noun archaic"]],[["noun u-uncnt, poetic","noun, poetic"]],[["noun","noun","adj"]],[["verb vom intrans"]],[["noun","verb intrans"]],[["noun"]],[["verb","int resp. part.","int"]],[["noun"]],[["noun, scientific"]],[["verb","noun, colloquial"]],[["noun, colloquial","noun, slang"],["noun uncnt","noun, archaic","noun, archaic","noun"]],[["int"]],[["noun uncnt","noun"]],[["noun/adj"]],[["verb"]],[["verb intrans","verb, slang, vulgar"]],[["special","noun u-uncnt"]],[["noun u-uncnt, archaic"]],[["noun u-uncnt, poetic","adj poetic"]],[["noun"]],[["noun"]],[["noun"]],[["noun u-uncnt/adj/verb"]]];
const deflist = [[["used to indicate the characteristic vocalization of a dog","the characteristic vocalization of a dog","to make the characteristic vocalization of a dog"]],[["morning"]],[["rain","rainy"]],[["flower","affectionate term of address; darling; sunshine","sarcastic subversion of aforementioned term of address, usually said with an exaggerated/over-the-top \"cutesy\" tone."]],[["rain","rainy"]],[["casual greeting; \"hii\"/\"sup\"."]],[["health; well-being","healthy; in a well state"]],[["general-purpose greeting, similar to \"hello\", suitable for polite/formal contexts."]],[["the moon (also the cultural object)","month<br><i>Etymology note: from times of lunar calendars</i>","to comfort someone<br><i>Etymology note: from superstitious beliefs that a full moon gives things under its light more peaceful/serene energy and wards off evil</i>"]],[["child"]],[["day (the time of day between morning and evening)"]],[["day (the entire 24-hour time period, not the time of day)"]],[["time of day"]],[["to kill"]],[["to add to something","to create"]],[["to join","to connect with someone; be that romantically or platonically","to \"hop on\""]],[["to steal","to steal and give to <someone/something>"]],[["doodad; doohickey; unspecified device/gadget/conchaption."]],[["\"hi\""]],[["to eat; to devour; to gobble. Has a greedy / animalistic / sometimes negative connotation."]],[["to come; to arrive"]],[["\"and...\", \"and then...\""]],[["blood"]],[["to jump","to cross an obstacle","to move very fast"]],[["water","source of drinkable water","thirsty"]],[["the sun (also the cultural object)","hot day"]],[["and"],["the next; the following"]],[["the sun (also the cultural object)","hot day"]],[["intelligence; capacity of mind"]],[["to kill; to remove from existence"],["to touch"]],[["red","redness"],["blood"]],[["to leave behind","orphan","reject; exile"]],[["adult"]],[["to die; to cease to live"]],[["to take","to take and give to <someone/something>"]],[["cat"]],[["smth. like \"mom\"/\"dad\", but gender-neutral"]],[["time; the inevitable progression into the future, the passing of the present","time; the current clock time","clock","deadline"]],[["male"]],[["person","human being"]],[["stranger; typically one neutrally thought of"]],[["female"]],[["a lot; a large amount"]],[["used to indicate the characteristic vocalization of a cat","the characteristic vocalization of a cat","to make the characteristic vocalization of a cat"]],[["world","realm; dimension (not as in the measure of spatial extent)"]],[["rot; decay","to rot; to decay; to collapse into ruin"]],[["used to point out someone making a trivial mistake","used in online texting when someone makes a typo; usually in a joking manner"]],[["code; cipher","mysterious","typo, especially on the Internet","someone who makes typos frequently"]],[["a lot; a large amount"]],[["wind","resistance, obstacle"]],[["light source","lamp","glowing"]],[["to go"]],[["existence","to exist"]],[["ball"]],[["to be<br><i>Note: irregular perfective form 'tsa', see entry</i>","yes (responding to a yes/no question)","making an acknowledgement or showing agreement, like \"mhm\""]],[["star (also the cultural object)"]],[["star (the luminous plasmic spheroidal astronomical object)"]],[["to look like; to resemble","copycat"]],[["multiplayer video game lobby","social media in-group/community<br><i>Etymology note: origins questioned but possibly stemming from jokingly referring to come-and-go online communities made for specific topics as \"lobbies\"</i>"],["everything that exists and has ever existed","world","realm; dimension (not as in the measure of spatial extent)","motherland; homeland. Has a patriotic connotation."]],[["\"um...\", \"uh...\", \"so...\""]],[["food; any solid substance consumable (esp. by eating) to sustain life","foodstuff"]],[["\"slur against fish\"."]],[["to be (implying something absolute/inherent and permament); perfective form of <i>sa</i>"]],[["to play","to be the dominant partner of during sex"]],[["a special word that can take the place of any other word, where the meaning is to be inferred from context","stuff; miscellaneous, unspecified, or nondescript items, objects, things, or matters"]],[["stuff; miscellaneous, unspecified, or nondescript items, objects, things, or matters"]],[["rain; has a more stormy, harsh, \"force of nature\" connotation than <i>ajı</i>.","rainy; see above regarding connotation"]],[["elderly person"]],[["night"]],[["evening"]],[["<br><img src=\"media/wzow.png\" width=\"50%\">"]]];
const taglist = [[[["interjection","onomatopoeia"],["noun","physicalnoun","onomatopoeia"],["verb","intransitiveverb","onomatopoeia"]]],[[["noun","physicalnoun","commonword","time","etymology/-a-p-","etymology/type-a"]]],[[["noun","u-uncountable","physicalnoun","commonword","weather","etymology/from-earlier-form","etymology/sound-change"],["adjective","commonword","weather","etymology/from-earlier-form","etymology/sound-change"]]],[[["noun","physicalnoun","commonword","nature","etymology/-a-p-","etymology/type-a"],["noun","physicalnoun","commonword","affectionate","etymology/-a-p-","etymology/type-a"],["noun","physicalnoun","informal","rude","etymology/-a-p-","etymology/type-a"]]],[[["noun","u-uncountable","physicalnoun","archaic","weather","etymology/-a-p-","etymology/type-a"],["adjective","archaic","weather","etymology/-a-p-","etymology/type-a"]]],[[["interjection","commonword","informal","etymology/shortening"]]],[[["noun","uncountable","abstractnoun","commonword","etymology/-a-p-","etymology/type-a"],["adjective","commonword","etymology/-a-p-","etymology/type-a"]]],[[["interjection","commonword","etymology/shortening"]]],[[["noun","physicalnoun","commonword","sky","etymology/-mu-","etymology/type-a"],["noun","abstractnoun","commonword","calendar","etymology/-mu-","etymology/type-a"],["verb","commonword","etymology/-mu-","etymology/type-a"]]],[[["noun","physicalnoun","commonword","person","etymology/-a-i","etymology/type-a"]]],[[["noun","physicalnoun","commonword","time","etymology/-a-p-","etymology/type-a"]]],[[["noun","physicalnoun","commonword","calendar","etymology/-a-p-","etymology/type-a"]]],[[["noun","abstractnoun","commonword","time","etymology/-a-p-","etymology/type-a"]]],[[["verb","commonword","etymology/-a-i","etymology/type-a"]]],[[["verb","commonword","etymology/type-b"],["verb","commonword","etymology/type-b"]]],[[["verb","commonword","etymology/type-b"],["verb","etymology/type-b"],["verb","informal","slang","internet","etymology/type-b"]]],[[["verb","commonword","etymology/from-other-word"],["verb","commonword","etymology/from-other-word"]]],[[["joke/shitpost","evilphonotactics"]]],[[["interjection","informal","etymology/type-c","etymology/loanword"]]],[[["verb","informal","evilalphabet","etymology/type-b"]]],[[["verb","intransitiveverb","verbofmotion","commonword","etymology/-m-e-","etymology/type-a"]]],[[["interjection","commonword","informal","filler","etymology/shortening"]]],[[["noun","uncountable","physicalnoun","commonword","etymology/type-b"]]],[[["verb","intransitiveverb","verbofmotion","commonword","etymology/type-b"],["verb","verbofmotion","commonword","etymology/type-b"],["verb","intransitiveverb","verbofmotion","etymology/type-b"]]],[[["noun","uncountable","physicalnoun","commonword","drink","etymology/type-b"],["noun","physicalnoun","commonword","etymology/type-b"],["adjective","commonword","etymology/type-b"]]],[[["noun","physicalnoun","archaic","sky","etymology/-il-","etymology/type-a"],["noun","physicalnoun","archaic","weather","etymology/-il-","etymology/type-a"]]],[[["conjunction","grammar","commonword","etymology/from-earlier-form"]],[["noun","abstractnoun","archaic","etymology/-m-e-","etymology/type-a"]]],[[["noun","physicalnoun","commonword","sky","etymology/from-earlier-form","etymology/sound-change"],["noun","physicalnoun","commonword","weather","etymology/from-earlier-form","etymology/sound-change"]]],[[["noun","uncountable","abstractnoun","commonword","etymology/-r-j-","etymology/type-a"]]],[[["verb","archaic","etymology/-sa-","etymology/type-a"]],[["verb","obsolete","etymology/type-c"]]],[[["adjective","commonword","color","etymology/from-earlier-form"],["noun","uncountable","abstractnoun","commonword","color","etymology/from-earlier-form"]],[["noun","uncountable","physicalnoun","archaic","etymology/-sa-","etymology/type-a"]]],[[["verb","etymology/-a-s-","etymology/type-a"],["noun","physicalnoun","person","etymology/-a-s-","etymology/type-a"],["noun","physicalnoun","person","etymology/-a-s-","etymology/type-a"]]],[[["noun","physicalnoun","commonword","person","etymology/-a-i","etymology/type-a"]]],[[["verb","intransitiveverb","commonword","etymology/-a-i","etymology/type-a"]]],[[["verb","commonword","etymology/-a-s-","etymology/type-a"],["verb","commonword","etymology/-a-s-","etymology/type-a"]]],[[["noun","physicalnoun","commonword","animal","pet","etymology/type-b"]]],[[["noun","physicalnoun","commonword","person"]]],[[["noun","u-uncountable","abstractnoun","commonword","etymology/-m-e-","etymology/type-a"],["noun","u-uncountable","abstractnoun","commonword","etymology/-m-e-","etymology/type-a"],["noun","physicalnoun","commonword","etymology/-m-e-","etymology/type-a"],["noun","abstractnoun","etymology/-m-e-","etymology/type-a"]]],[[["adjective","commonword","etymology/-i-u","etymology/type-a"]]],[[["noun","physicalnoun","commonword","person","etymology/from-earlier-form","etymology/sound-change"],["noun","physicalnoun","commonword","person","etymology/from-earlier-form","etymology/sound-change"]]],[[["noun","physicalnoun","archaic","person","etymology/-a-i","etymology/type-a"]]],[[["adjective","commonword","etymology/-i-u","etymology/type-a"]]],[[["noun","abstractnoun","quantity","commonword","etymology/from-earlier-form","etymology/sound-change"]]],[[["interjection","onomatopoeia"],["noun","physicalnoun","onomatopoeia"],["verb","intransitiveverb","onomatopoeia"]]],[[["noun","physicalnoun","commonword","etymology/-oe","etymology/type-a"],["noun","physicalnoun","commonword","etymology/-oe","etymology/type-a"]]],[[["noun","abstractnoun","commonword","etymology/-no","etymology/type-a"],["verb","intransitiveverb","commonword","etymology/-no","etymology/type-a"]]],[[["interjection","informal","etymology/type-c","etymology/from-other-word"],["interjection","informal","internet","etymology/type-c","etymology/from-other-word"]]],[[["noun","abstractnoun","commonword","etymology/-r-j-","etymology/type-a"],["adjective","commonword","etymology/-r-j-","etymology/type-a"],["noun","abstractnoun","commonword","internet","etymology/-r-j-","etymology/type-a"],["noun","physicalnoun","adjective","informal","slang","internet","etymology/-r-j-","etymology/type-a"]]],[[["noun","abstractnoun","quantity","archaic","etymology/-a-i","etymology/type-a"]]],[[["noun","u-uncountable","physicalnoun","poetic","weather","etymology/type-b"],["noun","physicalnoun","poetic","etymology/type-b"]]],[[["noun","physicalnoun","commonword","etymology/-il-","etymology/type-a"],["noun","physicalnoun","commonword","etymology/-il-","etymology/type-a"],["adjective","commonword","etymology/-il-","etymology/type-a"]]],[[["verb","intransitiveverb","verbofmotion","commonword","etymology/-m-e-","etymology/type-a"]]],[[["noun","abstractnoun","commonword","etymology/-sa-","etymology/type-a"],["verb","intransitiveverb","commonword","etymology/-sa-","etymology/type-a"]]],[[["noun","commonword","physicalnoun","etymology/type-c","etymology/sound-change"]]],[[["verb","irregularverb","commonword","etymology/-sa-","etymology/type-a"],["interjection","responseparticle","commonword","etymology/-sa-","etymology/type-a"],["interjection","commonword","etymology/-sa-","etymology/type-a"]]],[[["noun","physicalnoun","commonword","sky","etymology/-il-","etymology/type-a"]]],[[["noun","physicalnoun","formal","scientific","sky","etymology/type-b"]]],[[["verb","commonword","etymology/-r-j-","etymology/type-a"],["noun","physicalnoun","etymology/-r-j-","etymology/type-a"]]],[[["noun","physicalnoun","internet"],["noun","physicalnoun","slang","internet"]],[["noun","uncountable","physicalnoun","commonword","etymology/-oe","etymology/type-a"],["noun","physicalnoun","archaic","etymology/-oe","etymology/type-a"],["noun","physicalnoun","archaic","etymology/-oe","etymology/type-a"],["noun","physicalnoun","etymology/-oe","etymology/type-a"]]],[[["interjection","commonword","filler","onomatopoeia"]]],[[["noun","uncountable","physicalnoun","commonword","food","etymology/-a-p-","etymology/type-a"],["noun","physicalnoun","commonword","food","etymology/-a-p-","etymology/type-a"]]],[[["joke/shitpost"]]],[[["verb","irregularverb","commonword","etymology/shortening","etymology/sound-change"]]],[[["verb","intransitiveverb","commonword","etymology/type-b"],["verb","informal","slang","etymology/type-b"]]],[[["special","grammar","commonword","etymology/shortening","etymology/from-earlier-form"],["noun","u-uncountable","physicalnoun","commonword","informal","etymology/shortening","etymology/from-earlier-form"]]],[[["noun","u-uncountable","physicalnoun","archaic","etymology/from-earlier-form","etymology/sound-change"]]],[[["noun","u-uncountable","physicalnoun","poetic","weather","etymology/type-b"],["adjective","poetic","weather","etymology/type-b"]]],[[["noun","physicalnoun","commonword","person","etymology/-a-i","etymology/type-a"]]],[[["noun","physicalnoun","commonword","time","etymology/-mu-","etymology/type-a"]]],[[["noun","physicalnoun","commonword","time","etymology/-a-p-","etymology/type-a"]]],[[["joke/shitpost","evilalphabet"]]]];

// END OF AUTO-GENERATED CODE REGION

let searchbar = document.getElementById("search");
let lvdstbox = document.getElementById("lvdst");
let hide_tags = false;

// valid values: "plain", "exact", "regex", "levenshtein"
let wmatchmode = "plain";

// valid values: "words", "defs"
let searchmode = "words";

function levenshtein(x, y) {
	if (!x.length) return y.length;
	if (!y.length) return x.length;
	const arr = [];
	for (let i = 0; i <= y.length; i++) {
		arr[i] = [i];
		for (let j = 1; j <= x.length; j++) {
			arr[i][j] = i === 0 ? j : Math.min(
				arr[i - 1][j] + 1,
				arr[i][j - 1] + 1,
				arr[i - 1][j - 1] + (x[j - 1] === y[i - 1] ? 0 : 1)
			);
		}
	}
	return arr[y.length][x.length];
}

function match(x, y) {
	switch (wmatchmode) {
		case "plain": return y.includes(x);
		case "exact": return x === y;
		case "regex": return new RegExp(x).test(y);
		case "levenshtein": return levenshtein(x, y) <= lvdstbox.value;
	}
}

function shouldDisplayWord(input, word, etys, alltags) {
	const searchfortags = input.includes("#");

	// split at spaces except inside single quotes
	let terms = input.match(/(?:[^\s']+|'[^']*')+/g);
	terms.forEach((item, idx) => (terms[idx] = item.replaceAll("'", ""))); // remove single quotes

	let matchedword = false;
	let matcheddef = [];
	let matchedtags = [];
	let tagsonly = true;
	terms.forEach(function(item) {
		if (item[0] !== "#") {
			tagsonly = false;
			switch (searchmode) {
				case "words":
					if (match(item, word))
						matchedword = true;
					break;
				case "defs":
					etys.forEach(function(i, n) {
						i.forEach(function(def, idx) {
							if (match(item, def))
								matcheddef.push(def);
						});
					});
			}
		} else {
			alltags.forEach(function(i, n) {
				i.forEach(function(tags, idx) {
					if (tags.includes(item.slice(1)))
						matchedtags.push(tags);
				});
			});
		}
	});
	if (tagsonly && matchedtags.length > 0)
		return true;
	let gottags = (!searchfortags || matchedtags.length > 0);
	let gotdef = (!searchfortags && matcheddef.length > 0) || matcheddef.some(e => matchedtags.includes(e));
	return gottags && (matchedword || gotdef);
}

function shouldDisplayEty(input, ety, etytags) {
	let ret = false;
	ety.forEach(function(item, idx) {
		if (shouldDisplayDef(input, item, etytags[idx]))
			ret = true;
	});
	return ret;
}

function shouldDisplayDef(input, def, deftags) {
	const searchfortags = input.includes("#");
	if (!searchfortags && searchmode !== "defs") // don't need to do anything
		return true;

	// split at spaces except inside single quotes
	let terms = input.match(/(?:[^\s']+|'[^']*')+/g);
	terms.forEach((item, idx) => (terms[idx] = item.replaceAll("'", ""))); // remove single quotes

	let matchedtags = false;
	let matcheddef = false;
	let tagsonly = true;
	terms.forEach(function(item) {
		if (item[0] === "#" && deftags.includes(item.slice(1))) {
			matchedtags = true;
		} else if (item[0] !== "#") {
			tagsonly = false;
			if (searchmode === "defs" && match(item, def))
				matcheddef = true;
		}
	});
	return ((!searchfortags || matchedtags) && (tagsonly || (searchmode !== "defs" || matcheddef)));
}

function redraw(wordDisplayCallback, etyDisplayCallback, defDisplayCallback) {
	let mainarea = document.getElementById("main");
	mainarea.textContent = ""; // clear all children
	wordlist.forEach(function(word, wordidx) {
		if (wordDisplayCallback(word, etylist[wordidx], taglist[wordidx])) {
			word_div = mainarea.insertAdjacentElement("beforeend", document.createElement("div"));
			word_div.classList.add("entry");
			word_div.insertAdjacentHTML("beforeend", "<h3 class=\"inline word\"><strong>" + word + "</strong></h3> ");
			defs_div = word_div.insertAdjacentElement("beforeend", document.createElement("div"));
			defs_div.classList.add("defs");
			etylist[wordidx].forEach(function(ety, etyidx) {
				if (etyDisplayCallback(deflist[wordidx][etyidx], taglist[wordidx][etyidx])) {
					defs_div.insertAdjacentHTML("beforeend", "<p class=\"inline ety\">" + ety + "</p>");
					deflist[wordidx][etyidx].forEach(function(def, defidx) {
						let x = defDisplayCallback(def, taglist[wordidx][etyidx][defidx]) ? "" : "greyout";
						// this line is 239 cols long :face_holding_back_tears:
						// 262-304 now depending on tab width -an
						defs_div.insertAdjacentHTML("beforeend", "<li class=\"def" + x + "\"><i>" + desclist[wordidx][etyidx][defidx] + "</i> " + def + (!hide_tags ? ("<br><p class=\"inline subtext\">tags: " + taglist[wordidx][etyidx][defidx].join(" ") + "</p>") : "") + "</li>");
					});
				}
			});
		}
	});

	for (let word of document.getElementsByClassName("word")) {
		word.addEventListener("click", _ => {
			// todo: add some sort of indicator that the word is collapsed
			// like a chevron or something idk
			let defs = word.nextElementSibling;
			defs.classList.toggle("collapsed");
		});
	}

	// todo: when clicking on a def, copy it

	// for (let def of document.getElementsByClassName("def")) {
	// 	def.addEventListener("click", _ => {
	//
	// 	});
	// }
}

function refresh(input) {
	if (input === "")
		redraw(_ => true, _ => true, _ => true);
	else
		redraw((word, defs, alltags) => shouldDisplayWord(input, word, defs, alltags),
			(ety, etytags) => shouldDisplayEty(input, ety, etytags),
			(def, deftags) => shouldDisplayDef(input, def, deftags));
}

function setwmmode(wmmode) {
	wmatchmode = wmmode;
	refresh(searchbar.value);
}

function setsearchmode(smode) {
	searchmode = smode;
	refresh(searchbar.value);
}

searchbar.addEventListener("input", (e) => refresh(e.target.value));
lvdstbox.addEventListener("input", _ => refresh(searchbar.value));
document.addEventListener("keypress", (e) => {
	if (e.code == "KeyH") { // h
		hide_tags = !hide_tags;
		refresh(searchbar.value);
	}
});

redraw(_ => true, _ => true, _ => true);
		</script>
	</body>
</html>
